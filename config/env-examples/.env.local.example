# =============================================================================
# LOCAL DEVELOPMENT ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env.local for development
# Fill in the values with your actual development credentials

# =============================================================================
# NODE.JS ENVIRONMENT
# =============================================================================
NODE_ENV=development

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# API Secret Key (REQUIRED for development)
# Generate: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
API_SECRET_KEY=your-development-api-secret-key-here

# JWT Secret for API authentication (REQUIRED)
# Generate: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your-development-jwt-secret-here

# Session Secret (REQUIRED)
# Generate: node -e "console.log(require('crypto').randomBytes(16).toString('hex'))"
SESSION_SECRET=your-development-session-secret-here

# Development API Key (for development debug access only)
DEV_API_KEY=dev-secret-key

# Valid API Keys for client access (comma-separated)
VALID_API_KEYS=dev-key1,dev-key2,dev-key3

# =============================================================================
# CORS & SECURITY CONFIGURATION
# =============================================================================

# Allowed Origins (localhost for development)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,http://127.0.0.1:3000,http://127.0.0.1:3001

# Content Security Policy domains (development)
CSP_ALLOWED_DOMAINS=localhost,127.0.0.1

# Trusted proxy IPs (for rate limiting and security headers)
TRUSTED_PROXY_IPS=127.0.0.1,::1

# =============================================================================
# DEBUG & MONITORING CONFIGURATION
# =============================================================================

# Enable debug endpoint (enabled for development)
DEBUG_ENDPOINT_ENABLED=true

# Allowed IP addresses for debug access (comma-separated)
DEBUG_ALLOWED_IPS=127.0.0.1,192.168.1.100

# Error reporting level (info/debug for development)
ERROR_REPORTING_LEVEL=info

# Performance monitoring
ENABLE_PERFORMANCE_MONITORING=true

# =============================================================================
# RATE LIMITING (DEVELOPMENT SETTINGS)
# =============================================================================

# Rate limit window in milliseconds (15 seconds default)
RATE_LIMIT_WINDOW_MS=15000

# Maximum requests per window (more permissive for dev)
RATE_LIMIT_MAX_REQUESTS=100

# Rate limit for API endpoints
API_RATE_LIMIT_MAX_REQUESTS=50

# Rate limit for image searches
IMAGE_SEARCH_RATE_LIMIT=20

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log level: error, warn, info, debug
LOG_LEVEL=info

# Enable structured logging
ENABLE_STRUCTURED_LOGGING=false

# Log retention days
LOG_RETENTION_DAYS=7

# Enable audit logging
ENABLE_AUDIT_LOGGING=false

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# Unsplash API Configuration
# Get your keys from: https://unsplash.com/developers
NEXT_PUBLIC_UNSPLASH_ACCESS_KEY=your-unsplash-public-key
UNSPLASH_ACCESS_KEY=your-unsplash-server-key

# OpenAI API Configuration
# Get your key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=gpt-4o-mini
OPENAI_MAX_TOKENS=1000
OPENAI_TEMPERATURE=0.7

# Supabase Configuration
# Get your keys from: https://supabase.com/dashboard/project/YOUR_PROJECT/settings/api
NEXT_PUBLIC_SUPABASE_URL=your-supabase-url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-key

# =============================================================================
# CACHING CONFIGURATION
# =============================================================================

# Redis Configuration (optional for development)
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=your-redis-password
REDIS_MAX_RETRIES=3

# Vercel KV Configuration (if using Vercel)
# Get from: https://vercel.com/dashboard/stores
KV_REST_API_URL=your-kv-rest-api-url
KV_REST_API_TOKEN=your-kv-rest-api-token

# Cache Settings
MAX_CACHE_SIZE=1000
DEFAULT_CACHE_TTL=3600
CACHE_WRITE_THROUGH=true
ENABLE_MEMORY_CACHE_FALLBACK=true

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Configuration (if using direct connection)
DATABASE_URL=postgresql://username:password@localhost:5432/database_name
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
DATABASE_SSL=false

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/disable features
ENABLE_IMAGE_SEARCH=true
ENABLE_AI_TRANSLATION=true
ENABLE_SETTINGS_SYNC=true
ENABLE_ERROR_REPORTING=true
ENABLE_PERFORMANCE_METRICS=true

# Advanced features
ENABLE_A_B_TESTING=false
ENABLE_BETA_FEATURES=true

# Demo mode settings
ENABLE_DEMO_MODE=false
DEMO_MODE_AUTO=true

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================

# Sentry Configuration (error monitoring)
SENTRY_DSN=your-sentry-dsn
SENTRY_ENVIRONMENT=development
SENTRY_RELEASE=1.0.0

# Analytics
ANALYTICS_ID=your-analytics-id
ENABLE_ANALYTICS=false

# Health check configuration
HEALTH_CHECK_TIMEOUT=5000
ENABLE_DEEP_HEALTH_CHECKS=false

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

# Build optimization
ANALYZE=false
BUNDLE_ANALYZE=false

# Next.js Configuration
NEXT_TELEMETRY_DISABLED=1
NEXTJS_CACHE_SIZE=50

# Optimization flags
ENABLE_SOURCE_MAPS=true
ENABLE_MINIFICATION=false
ENABLE_TREE_SHAKING=true

# =============================================================================
# SSL/TLS CONFIGURATION
# =============================================================================

# Force HTTPS redirects (false for local development)
FORCE_HTTPS=false

# HSTS (HTTP Strict Transport Security)
ENABLE_HSTS=false
HSTS_MAX_AGE=31536000

# Security headers
ENABLE_SECURITY_HEADERS=true

# =============================================================================
# BACKUP & RECOVERY
# =============================================================================

# Backup configuration
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=7

# =============================================================================
# DEVELOPMENT SETUP INSTRUCTIONS
# =============================================================================
#
# 1. Copy this file to .env.local
# 2. Fill in the required API keys:
#    - NEXT_PUBLIC_UNSPLASH_ACCESS_KEY (from Unsplash)
#    - UNSPLASH_ACCESS_KEY (same as above for server-side)
#    - OPENAI_API_KEY (from OpenAI)
#    - NEXT_PUBLIC_SUPABASE_URL (from Supabase)
#    - NEXT_PUBLIC_SUPABASE_ANON_KEY (from Supabase)
#    - SUPABASE_SERVICE_ROLE_KEY (from Supabase)
#    - KV_REST_API_URL and KV_REST_API_TOKEN (from Vercel, if using)
# 3. Generate security keys using the provided commands
# 4. Run: npm run dev
#
# =============================================================================
# SECURITY NOTES
# =============================================================================
#
# - Never commit .env.local to version control
# - Use different keys for development and production
# - Keep this file updated when adding new environment variables
# - The NEXT_PUBLIC_ prefix exposes variables to the client-side
# - Only expose what's necessary on the client-side