# =============================================================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# =============================================================================
# WARNING: This file contains production secrets. Never commit to version control!
# Deploy this file securely to your production environment.

# =============================================================================
# NODE.JS ENVIRONMENT
# =============================================================================
NODE_ENV=production

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# API Secret Key (REQUIRED) - Used for internal API authentication
# Generated using: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
API_SECRET_KEY=5a9a81096e87d52e4b2d7f00887fd2a6bf5b18962f527c3c86997b7cd20acdd9

# JWT Secret for API authentication (REQUIRED)
# Generated using: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=172a24c9cc11ae30403c18cd74e283fbcfdf1612b261c9ac9b8377f6ba25c83f

# Session Secret (REQUIRED)
# Generated using: node -e "console.log(require('crypto').randomBytes(16).toString('hex'))"
SESSION_SECRET=209db0f5fbb94c33d9fff005463adc4e

# Valid API Keys for client access (comma-separated)
# Generate unique keys for each client/service that needs API access
VALID_API_KEYS=prod-api-key-1,prod-api-key-2,prod-api-key-3

# Development API Key - DISABLED in production
# DEV_API_KEY is intentionally commented out for security

# =============================================================================
# CORS & SECURITY CONFIGURATION
# =============================================================================

# Allowed Origins (CRITICAL - only add your production domains)
# Replace with your actual production domains
ALLOWED_ORIGINS=https://describe-it-lovat.vercel.app,https://describe-*.vercel.app

# Content Security Policy domains (optional but recommended)
CSP_ALLOWED_DOMAINS=yourdomain.com,*.yourdomain.com

# Trusted proxy IPs (for rate limiting and security headers)
TRUSTED_PROXY_IPS=127.0.0.1,::1

# =============================================================================
# DEBUG & MONITORING (PRODUCTION SETTINGS)
# =============================================================================

# Debug endpoint - DISABLED in production for security
DEBUG_ENDPOINT_ENABLED=false

# Debug allowed IPs (only if debug endpoint is enabled - NOT RECOMMENDED)
# DEBUG_ALLOWED_IPS=127.0.0.1

# Error reporting level
ERROR_REPORTING_LEVEL=error

# Performance monitoring
ENABLE_PERFORMANCE_MONITORING=true

# =============================================================================
# RATE LIMITING (PRODUCTION TUNED)
# =============================================================================

# Rate limit window in milliseconds (15 seconds)
RATE_LIMIT_WINDOW_MS=15000

# Maximum requests per window (stricter for production)
RATE_LIMIT_MAX_REQUESTS=50

# Rate limit for API endpoints (even stricter)
API_RATE_LIMIT_MAX_REQUESTS=20

# Rate limit for image searches
IMAGE_SEARCH_RATE_LIMIT=10

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log level (error/warn for production)
LOG_LEVEL=warn

# Enable structured logging
ENABLE_STRUCTURED_LOGGING=true

# Log retention days
LOG_RETENTION_DAYS=30

# Enable audit logging
ENABLE_AUDIT_LOGGING=true

# =============================================================================
# EXTERNAL SERVICES (REPLACE WITH YOUR PRODUCTION KEYS)
# =============================================================================

# Unsplash API Configuration
NEXT_PUBLIC_UNSPLASH_ACCESS_KEY=eSjXJ5k6vbf2APMbdCXGqcFIeSIy8stFN4sp3zgFjk8
UNSPLASH_ACCESS_KEY=eSjXJ5k6vbf2APMbdCXGqcFIeSIy8stFN4sp3zgFjk8

# OpenAI API Configuration
OPENAI_API_KEY=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
OPENAI_MODEL=gpt-4o-mini
OPENAI_MAX_TOKENS=1000
OPENAI_TEMPERATURE=0.7

# Supabase Configuration (if using database)
NEXT_PUBLIC_SUPABASE_URL=https://arjrpdccaczbybbrchvc.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFyanJwZGNjYWN6YnliYnJjaHZjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY1ODQ4MzQsImV4cCI6MjA3MjE2MDgzNH0.pRI087i7y7wJx7DJx69kN3rxZEwvV0gBVCyfapXbH5c
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFyanJwZGNjYWN6YnliYnJjaHZjIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1NjU4NDgzNCwiZXhwIjoyMDcyMTYwODM0fQ.ZoeFLYhKnFshoIcDdJiIOdrOSAoFtyGjx3gG_aKGl7c

# =============================================================================
# CACHING CONFIGURATION
# =============================================================================

# Redis Configuration (recommended for production)
REDIS_URL=redis://your-production-redis-url:6379
REDIS_PASSWORD=your-redis-password
REDIS_MAX_RETRIES=3

# Vercel KV (if using Vercel)
KV_REST_API_URL=your-kv-rest-api-url
KV_REST_API_TOKEN=your-kv-rest-api-token

# Cache Configuration
MAX_CACHE_SIZE=10000
DEFAULT_CACHE_TTL=3600
CACHE_WRITE_THROUGH=true
ENABLE_MEMORY_CACHE_FALLBACK=true

# =============================================================================
# DATABASE CONFIGURATION (if needed)
# =============================================================================

# PostgreSQL (if using direct database connection)
DATABASE_URL=postgresql://username:password@host:5432/database_name?sslmode=require
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=20
DATABASE_SSL=true

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/disable features in production
ENABLE_IMAGE_SEARCH=true
ENABLE_AI_TRANSLATION=true
ENABLE_SETTINGS_SYNC=true
ENABLE_ERROR_REPORTING=true
ENABLE_PERFORMANCE_METRICS=true

# Advanced features
ENABLE_A_B_TESTING=false
ENABLE_BETA_FEATURES=false

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================

# Sentry Configuration (error monitoring)
SENTRY_DSN=your-sentry-dsn
SENTRY_ENVIRONMENT=production
SENTRY_RELEASE=1.0.0

# Analytics
ANALYTICS_ID=your-analytics-id
ENABLE_ANALYTICS=true

# Health check configuration
HEALTH_CHECK_TIMEOUT=5000
ENABLE_DEEP_HEALTH_CHECKS=true

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

# Build optimization
ANALYZE=false
BUNDLE_ANALYZE=false

# Next.js Configuration
NEXT_TELEMETRY_DISABLED=1
NEXTJS_CACHE_SIZE=100

# Optimization flags
ENABLE_SOURCE_MAPS=false
ENABLE_MINIFICATION=true
ENABLE_TREE_SHAKING=true

# =============================================================================
# SSL/TLS CONFIGURATION
# =============================================================================

# Force HTTPS redirects
FORCE_HTTPS=true

# HSTS (HTTP Strict Transport Security)
ENABLE_HSTS=true
HSTS_MAX_AGE=31536000

# Security headers
ENABLE_SECURITY_HEADERS=true

# =============================================================================
# BACKUP & RECOVERY
# =============================================================================

# Backup configuration (if applicable)
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# =============================================================================
# PRODUCTION DEPLOYMENT CHECKLIST
# =============================================================================
# Ensure all these items are configured before deploying:
#
# [ ] All API keys are set to production values
# [ ] ALLOWED_ORIGINS contains only production domains
# [ ] DEBUG_ENDPOINT_ENABLED is false
# [ ] LOG_LEVEL is set to 'warn' or 'error'
# [ ] Rate limiting is appropriately configured
# [ ] SSL/TLS certificates are valid
# [ ] Database connections use SSL
# [ ] Monitoring and error reporting are configured
# [ ] Backup strategy is in place
# [ ] Security headers are enabled
# [ ] Performance monitoring is active